{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// У файлі pixabay-api.js зберігай функції для виконання HTTP-запитів:\n\n// getImagesByQuery(query). Ця функція повинна приймати один параметр query (пошукове слово, яке є рядком), здійснювати\n//  HTTP-запит і повертати значення властивості data з отриманої відповіді.\nimport axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '52809699-ccc5c93f5d687b44e4326bc01';\n\nasync function getImagesByQuery(query) {\n  const url =\n    `${BASE_URL}?key=${API_KEY}` +\n    `&q=${encodeURIComponent(query)}` +\n    `&image_type=photo` +\n    `&orientation=horizontal` +\n    `&safesearch=true`;\n\n  return axios\n    .get(url)\n    .then(response => {\n      return response.data;\n    })\n    .catch(error => {\n      return [];\n    });\n}\n\nexport default getImagesByQuery;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Контейнер галереї та лоадер (припускаю ці селектори; зміни під свою розмітку)\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader'); // елемент лоадера з CSS-класом .loader\n\n// Один екземпляр лайтбоксу на всю сторінку\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// Створює HTML-розмітку для масиву картинок (внутрішня допоміжна функція)\nfunction buildGalleryMarkup(images) {\n  return images\n    .map(item => {\n      return `\n        <li class=\"gallery-item\">\n          <a href=\"${item.largeImageURL}\">\n            <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" />\n          </a>\n          <div class=\"info\">\n            <p><b>Likes:</b> ${item.likes}</p>\n            <p><b>Views:</b> ${item.views}</p>\n            <p><b>Comments:</b> ${item.comments}</p>\n            <p><b>Downloads:</b> ${item.downloads}</p>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n}\n\n/**\n * createGallery(images)\n * Рендерить елементи в контейнер галереї та оновлює SimpleLightbox.\n * Нічого не повертає.\n */\nfunction createGallery(images) {\n  if (!Array.isArray(images) || images.length === 0) return;\n  if (!galleryEl) return;\n\n  const markup = buildGalleryMarkup(images);\n  // Можеш використовувати insertAdjacentHTML('beforeend', ...) для \"підвантаження сторінок\"\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n\n  // Після змін у DOM треба “освіжити” лайтбокс:\n  lightbox.refresh();\n}\n\n/**\n * clearGallery()\n * Очищає вміст контейнера галереї та “рефрешить” лайтбокс.\n * Нічого не повертає.\n */\nfunction clearGallery() {\n  if (!galleryEl) return;\n  galleryEl.innerHTML = '';\n  lightbox.refresh();\n}\n\n/**\n * showLoader()\n * Додає клас для відображення лоадера.\n * Нічого не повертає.\n */\nfunction showLoader() {\n  if (!loaderEl) return;\n  loaderEl.classList.add('is-visible'); // у CSS зроби .loader.is-visible { display: block; } і .loader { display: none; }\n}\n\n/**\n * hideLoader()\n * Прибирає клас відображення лоадера.\n * Нічого не повертає.\n */\nfunction hideLoader() {\n  if (!loaderEl) return;\n  loaderEl.classList.remove('is-visible');\n}\n\nexport { createGallery, clearGallery, showLoader, hideLoader, lightbox };\n","import getImagesByQuery from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n  lightbox,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst input = form.elements['search-text'];\n\nform.addEventListener('submit', async ev => {\n  ev.preventDefault();\n\n  const query = input.value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term!',\n    });\n    return;\n  }\n\n  clearGallery();\n\n  showLoader();\n\n  try {\n    const data = await getImagesByQuery(query);\n    if (!data || !Array.isArray(data.hits)) {\n      throw new Error('Bad response shape from API');\n    }\n    if (data.hits.length === 0) {\n      iziToast.warning({\n        title: 'Warning',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n    createGallery(data.hits);\n  } catch (err) {\n    console.error(err);\n    iziToast.error({\n      title: 'Error',\n      message: 'Network error or API failed. Try again later.',\n    });\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","url","axios","response","error","galleryEl","loaderEl","lightbox","SimpleLightbox","buildGalleryMarkup","images","item","createGallery","markup","clearGallery","showLoader","hideLoader","form","input","ev","iziToast","data","err"],"mappings":"owBAMA,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,eAAeC,EAAiBC,EAAO,CACrC,MAAMC,EACJ,GAAGJ,CAAQ,QAAQC,CAAO,MACpB,mBAAmBE,CAAK,CAAC,2DAKjC,OAAOE,EACJ,IAAID,CAAG,EACP,KAAKE,GACGA,EAAS,IACjB,EACA,MAAMC,GACE,EACR,CACL,CCrBA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAG3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAGD,SAASC,EAAmBC,EAAQ,CAClC,OAAOA,EACJ,IAAIC,GACI;AAAA;AAAA,qBAEQA,EAAK,aAAa;AAAA,wBACfA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,+BAG7BA,EAAK,KAAK;AAAA,+BACVA,EAAK,KAAK;AAAA,kCACPA,EAAK,QAAQ;AAAA,mCACZA,EAAK,SAAS;AAAA;AAAA;AAAA,OAI5C,EACA,KAAK,EAAE,CACZ,CAOA,SAASC,EAAcF,EAAQ,CAE7B,GADI,CAAC,MAAM,QAAQA,CAAM,GAAKA,EAAO,SAAW,GAC5C,CAACL,EAAW,OAEhB,MAAMQ,EAASJ,EAAmBC,CAAM,EAExCL,EAAU,mBAAmB,YAAaQ,CAAM,EAGhDN,EAAS,QAAO,CAClB,CAOA,SAASO,GAAe,CACjBT,IACLA,EAAU,UAAY,GACtBE,EAAS,QAAO,EAClB,CAOA,SAASQ,GAAa,CACfT,GACLA,EAAS,UAAU,IAAI,YAAY,CACrC,CAOA,SAASU,GAAa,CACfV,GACLA,EAAS,UAAU,OAAO,YAAY,CACxC,CCpEA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAU,MAAME,GAAM,CAC1CA,EAAG,eAAc,EAEjB,MAAMnB,EAAQkB,EAAM,MAAM,KAAI,EAC9B,GAAI,CAAClB,EAAO,CACVoB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDN,IAEAC,IAEA,GAAI,CACF,MAAMM,EAAO,MAAMtB,EAAiBC,CAAK,EACzC,GAAI,CAACqB,GAAQ,CAAC,MAAM,QAAQA,EAAK,IAAI,EACnC,MAAM,IAAI,MAAM,6BAA6B,EAE/C,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,QAAQ,CACf,MAAO,UACP,QACE,0EACV,CAAO,EACD,MACD,CACDR,EAAcS,EAAK,IAAI,CACxB,OAAQC,EAAK,CACZ,QAAQ,MAAMA,CAAG,EACjBF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACf,CAAK,CACL,QAAY,CACRJ,GACD,CACH,CAAC"}